-- ADMIN MASTER SCRIPT by Minemods
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Debris = game:GetService("Debris")
local UserInputService = game:GetService("UserInputService")

local admins = { [LocalPlayer.Name] = true }
local frozen = {}
local suspectList = {}
local preso = nil
local algemado = false
local flying = false
local noclip = false

-- Fun√ß√µes utilit√°rias
local function isAdmin(name)
	return admins[name] == true
end

local function getRoot(p)
	return p.Character and p.Character:FindFirstChild("HumanoidRootPart")
end

-- Parte 1: Comandos b√°sicos
local function prender()
	local char = LocalPlayer.Character
	local root = getRoot(LocalPlayer)
	if not root then return end
	local menorDist = math.huge
	local alvo = nil
	for _, p in pairs(Players:GetPlayers()) do
		if p ~= LocalPlayer and getRoot(p) then
			local dist = (getRoot(p).Position - root.Position).Magnitude
			if dist < 10 and dist < menorDist then
				menorDist = dist
				alvo = p
			end
		end
	end
	if alvo then
		preso = alvo
		algemado = true
		print("Preso: " .. alvo.Name)
	end
end

local function soltar()
	if preso then print("Solto: " .. preso.Name) end
	preso = nil
	algemado = false
end

RunService.RenderStepped:Connect(function()
	if preso and algemado and getRoot(preso) and getRoot(LocalPlayer) then
		getRoot(preso).CFrame = getRoot(LocalPlayer).CFrame * CFrame.new(2, 0, 0)
	end
end)

Players.PlayerAdded:Connect(function(p)
	warn("üõ°Ô∏è Novo jogador entrou: " .. p.Name)
end)

RunService.Stepped:Connect(function()
	for _, p in pairs(Players:GetPlayers()) do
		local hum = p.Character and p.Character:FindFirstChildWhichIsA("Humanoid")
		local y = getRoot(p) and getRoot(p).Position.Y or 0
		if hum and (hum.WalkSpeed > 32 or y > 500) then
			warn("üö® Poss√≠vel hacker: " .. p.Name)
		end
	end
end)

-- Parte 2: Poderes avan√ßados
local function sayAs(name, msg)
	game.ReplicatedStorage.DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")
end

local function invisible()
	for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
		if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
			part.Transparency = 1
		elseif part:IsA("Decal") then
			part.Transparency = 1
		end
	end
end

local function god()
	local hum = LocalPlayer.Character and LocalPlayer.Character:FindFirstChildWhichIsA("Humanoid")
	if hum then
		hum.Name = "GodHumanoid"
		local clone = hum:Clone()
		clone.Parent = LocalPlayer.Character
		wait()
		hum:Destroy()
	end
end

local function fly()
	if flying then return end
	flying = true
	local hrp = getRoot(LocalPlayer)
	local bv = Instance.new("BodyVelocity", hrp)
	bv.Velocity = Vector3.zero
	bv.MaxForce = Vector3.new(1, 1, 1) * 1e5
	RunService.RenderStepped:Connect(function()
		if not flying or not hrp then return end
		local move = Vector3.zero
		if UserInputService:IsKeyDown(Enum.KeyCode.W) then move += workspace.CurrentCamera.CFrame.LookVector end
		if UserInputService:IsKeyDown(Enum.KeyCode.S) then move -= workspace.CurrentCamera.CFrame.LookVector end
		if UserInputService:IsKeyDown(Enum.KeyCode.A) then move -= workspace.CurrentCamera.CFrame.RightVector end
		if UserInputService:IsKeyDown(Enum.KeyCode.D) then move += workspace.CurrentCamera.CFrame.RightVector end
		bv.Velocity = move.Unit * 100
	end)
end

local function unfly()
	flying = false
	for _, v in pairs(getRoot(LocalPlayer):GetChildren()) do
		if v:IsA("BodyVelocity") then v:Destroy() end
	end
end

local function setNoclip(state)
	noclip = state
	RunService.Stepped:Connect(function()
		if noclip and LocalPlayer.Character then
			for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
				if part:IsA("BasePart") then part.CanCollide = false end
			end
		end
	end)
end

local function bring(name)
	local target = Players:FindFirstChild(name)
	if target and getRoot(target) and getRoot(LocalPlayer) then
		getRoot(target).CFrame = getRoot(LocalPlayer).CFrame * CFrame.new(3, 0, 0)
	end
end

local function freeze(name)
	local target = Players:FindFirstChild(name)
	if target and getRoot(target) then
		getRoot(target).Anchored = true
		frozen[name] = true
	end
end

local function unfreeze(name)
	local target = Players:FindFirstChild(name)
	if target and getRoot(target) then
		getRoot(target).Anchored = false
		frozen[name] = nil
	end
end

-- Parte 3: Tubers93-style
local function explodeAll()
	for _, p in pairs(Players:GetPlayers()) do
		if getRoot(p) then
			local e = Instance.new("Explosion", workspace)
			e.Position = getRoot(p).Position
		end
	end
end

local function spinAll()
	for _, p in pairs(Players:GetPlayers()) do
		local hrp = getRoot(p)
		if hrp then
			local spin = Instance.new("BodyAngularVelocity", hrp)
			spin.AngularVelocity = Vector3.new(0, 10, 0)
			spin.MaxTorque = Vector3.new(0, math.huge, 0)
			Debris:AddItem(spin, 10)
		end
	end
end

local function rickroll()
	local s = Instance.new("Sound", workspace)
	s.SoundId = "rbxassetid://1843529274"
	s.Volume = 5
	s:Play()
	Debris:AddItem(s, 20)
end

local function jumpscare()
	local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
	local img = Instance.new("ImageLabel", gui)
	img.Size = UDim2.new(1, 0, 1, 0)
	img.Image = "rbxassetid://10493227997"
	img.BackgroundTransparency = 1
	local s = Instance.new("Sound", workspace)
	s.SoundId = "rbxassetid://911882310"
	s.Volume = 10
	s:Play()
	Debris:AddItem(gui, 3)
	Debris:AddItem(s, 3)
end

local function rainClones()
	for i = 1, 20 do
		local clone = LocalPlayer.Character:Clone()
		clone.Parent = workspace
		clone:MoveTo(getRoot(LocalPlayer).Position + Vector3.new(math.random(-10,10), 50+i*5, math.random(-10,10)))
		Debris:AddItem(clone, 10)
	end
end

-- Comando principal
LocalPlayer.Chatted:Connect(function(msg)
	local args = msg:split(" ")
	local cmd = args[1]:lower()
	local arg2 = args[2]
	local arg3 = table.concat(args, " ", 3)

	if not isAdmin(LocalPlayer.Name) then return end

	if cmd == ";kick" and arg2 and suspectList[arg2] then
		local t = Players:FindFirstChild(arg2)
		if t then t:Kick("Script detectado.") end

	elseif cmd == ";kill" and arg2 then
		local t = Players:FindFirstChild(arg2)
		if t and t.Character then
			local h = t.Character:FindFirstChildWhichIsA("Humanoid")
			if h then h.Health = 0 end
		end

	elseif cmd == ";preso" then prender()
	elseif cmd == ";soltar" then soltar()
	elseif cmd == ";verifique" then
		suspectList = {}
		for _, p in pairs(Players:GetPlayers()) do
			if p ~= LocalPlayer then
				local hum = p.Character and p.Character:FindFirstChildWhichIsA("Humanoid")
				if hum and hum.WalkSpeed > 32 then
					local dist = getRoot(p) and getRoot(LocalPlayer) and (getRoot(p).Position - getRoot(LocalPlayer).Position).Magnitude or 0
					suspectList[p.Name] = true
					print("‚ö†Ô∏è " ..

-- Parte 4: Tubers93 avan√ßado

local function trapPlayer(name)
	local target = Players:FindFirstChild(name)
	if target and getRoot(target) then
		local cage = Instance.new("Part")
		cage.Size = Vector3.new(6, 6, 6)
		cage.Position = getRoot(target).Position + Vector3.new(0, 3, 0)
		cage.Anchored = true
		cage.CanCollide = true
		cage.Transparency = 0.3
		cage.BrickColor = BrickColor.new("Really black")
		cage.Parent = workspace
		Debris:AddItem(cage, 15)
	end
end

local function skyRed()
	local lighting = game:GetService("Lighting")
	lighting.Ambient = Color3.new(1, 0, 0)
	lighting.OutdoorAmbient = Color3.new(0.5, 0, 0)
	lighting.FogColor = Color3.new(0.3, 0, 0)
end

local function decals()
	for i = 1, 20 do
		local d = Instance.new("Decal")
		d.Texture = "rbxassetid://10493227997"
		local p = Instance.new("Part", workspace)
		p.Size = Vector3.new(10, 10, 1)
		p.Position = getRoot(LocalPlayer).Position + Vector3.new(math.random(-50,50), math.random(10,50), math.random(-50,50))
		p.Anchored = true
		p.CanCollide = false
		d.Face = Enum.NormalId.Front
		d.Parent = p
		Debris:AddItem(p, 15)
	end
end

local function playMusic(id)
	local s = Instance.new("Sound", workspace)
	s.SoundId = "rbxassetid://" .. id
	s.Volume = 5
	s.Looped = true
	s:Play()
	Debris:AddItem(s, 60)
end

local function muteAll()
	for _, s in pairs(workspace:GetDescendants()) do
		if s:IsA("Sound") then s.Volume = 0 end
	end
end

local function unmuteAll()
	for _, s in pairs(workspace:GetDescendants()) do
		if s:IsA("Sound") then s.Volume = 5 end
	end
end

local function freezeAll()
	for _, p in pairs(Players:GetPlayers()) do
		if getRoot(p) then getRoot(p).Anchored = true end
	end
end

local function unfreezeAll()
	for _, p in pairs(Players:GetPlayers()) do
		if getRoot(p) then getRoot(p).Anchored = false end
	end
end

local function invisibleAll()
	for _, p in pairs(Players:GetPlayers()) do
		if p.Character then
			for _, part in pairs(p.Character:GetDescendants()) do
				if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
					part.Transparency = 1
				end
			end
		end
	end
end

local function blindAll()
	for _, p in pairs(Players:GetPlayers()) do
		local gui = Instance.new("ScreenGui", p:FindFirstChild("PlayerGui") or p:WaitForChild("PlayerGui"))
		local frame = Instance.new("Frame", gui)
		frame.Size = UDim2.new(1, 0, 1, 0)
		frame.BackgroundColor3 = Color3.new(1, 1, 1)
		Debris:AddItem(gui, 5)
	end
end

local function kickAll()
	for _, p in pairs(Players:GetPlayers()) do
		if p ~= LocalPlayer then
			p:Kick("Expulso pelo administrador.")
		end
	end
end

local function firestorm()
	for i = 1, 30 do
		local f = Instance.new("Part", workspace)
		f.Size = Vector3.new(2, 2, 2)
		f.Position = getRoot(LocalPlayer).Position + Vector3.new(math.random(-50,50), 100 + i*2, math.random(-50,50))
		f.Anchored = false
		f.BrickColor = BrickColor.new("Bright orange")
		f.Material = Enum.Material.Neon
		local fire = Instance.new("Fire", f)
		Debris:AddItem(f, 10)
	end
end

local function tubersMode()
	explodeAll()
	spinAll()
	rickroll()
	jumpscare()
	rainClones()
	skyRed()
	decals()
	firestorm()
end

local function listFun()
	print("üéÆ Comandos Tubers93: ;explode, ;spinall, ;rickroll, ;jumpscare, ;rainclones, ;trap [nome], ;skyred, ;decals, ;music [id], ;muteall, ;unmuteall, ;freezeall, ;unfreezeall, ;invisibleall, ;blindall, ;kickall, ;firestorm, ;tubersmode")
end

-- Comandos da Parte 4
LocalPlayer.Chatted:Connect(function(msg)
	local args = msg:split(" ")
	local cmd = args[1]:lower()
	local arg2 = args[2]

	if not isAdmin(LocalPlayer.Name) then return end

	if cmd == ";trap" and arg2 then trapPlayer(arg2)
	elseif cmd == ";skyred" then skyRed()
	elseif cmd == ";decals" then decals()
	elseif cmd == ";music" and arg2 then playMusic(arg2)
	elseif cmd == ";muteall" then muteAll()
	elseif cmd == ";unmuteall" then unmuteAll()
	elseif cmd == ";freezeall" then freezeAll()
	elseif cmd == ";unfreezeall" then unfreezeAll()
	elseif cmd == ";invisibleall" then invisibleAll()
	elseif cmd == ";blindall" then blindAll()
	elseif cmd == ";kickall" then kickAll()
	elseif cmd == ";firestorm" then firestorm()
	elseif cmd == ";tubersmode" then tubersMode()
	elseif cmd == ";listfun" then listFun()
	end
end)
